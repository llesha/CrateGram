<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>CrateGram</title>
    <!-- <script src="https://kit.fontawesome.com/fcd79d1b18.js" crossorigin="anonymous"></script> -->

    <link rel="stylesheet" href="css/colors.css">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/interactive.css">

    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@500&display=swap" rel="stylesheet">
    <script type="module" src="js/interpreter/Interpreter.js"></script>
    <script type="text/javascript" src="monaco-editor/min/vs/loader.js"></script>
    <link rel="icon" type="image/svg+xml" href="resources/crategram-ico.svg">
</head>

<body data-theme="light" style="background-color: var(--bg-color);">
    <div id="main">
        <div class="left panel no-scroll">
            <div>
                <svg class="hoverable clickable" id="menu-button" xmlns="http://www.w3.org/2000/svg" height="2em"
                    viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                    <path fill="var(--main-color)"
                        d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z" />
                </svg>
            </div>
            <div id="menu" class="hidden">
                <div class="unselectable menu-element outline-top">
                    <span id="playground" class="clickable hoverable">Playground</span>
                </div>
                <div class="menu-element">
                    <svg class="menu-right" xmlns="http://www.w3.org/2000/svg" height="1em"
                        viewBox="0 0 320 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                        <path fill="var(--main-color)"
                            d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z" />
                    </svg>
                    <span class="unselectable clickable hoverable expandable" id="tasks-button">Grammar tasks</span>
                    <div id="grammar-tasks">
                        <div class="indent"><span class="clickable hoverable">Random</span></div>
                        <svg class="menu-right" xmlns="http://www.w3.org/2000/svg" height="1em"
                            viewBox="0 0 320 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                            <path fill="var(--main-color)"
                                d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z" />
                        </svg>

                        <span class="unselectable descr clickable hoverable expandable"
                            descr="Caterpillar-Logic is a set of tasks taken from
                         a brilliant game <a href=https://play.google.com/store/apps/details?id=org.gromozeka1980.caterpillar_logic&hl=en&gl=US>Caterpillar logic</a>"
                            id="cp-tasks">Caterpillar logic</span>
                        <div class="task-list" style="display:none">
                            <div class="indent2"><span class="unselectable clickable hoverable">CL-2</span></div>
                            <div class="indent2"><span class="unselectable clickable hoverable">CL-3</span></div>
                            <div class="indent2"><span class="unselectable clickable hoverable">CL-4</span></div>
                            <div class="indent2"><span class="unselectable clickable hoverable">CL-5</span></div>
                            <div class="indent2"><span class="unselectable clickable hoverable">CL-6</span></div>
                            <div class="indent2"><span class="unselectable clickable hoverable">CL-7</span></div>
                            <div class="indent2"><span class="unselectable clickable hoverable">CL-8</span></div>
                            <div class="indent2"><span class="unselectable clickable hoverable">CL-9</span></div>
                            <div class="indent2"><span class="unselectable clickable hoverable">CL-10</span></div>
                            <div class="indent2"><span class="unselectable clickable hoverable">CL-11</span></div>
                            <div class="indent2"><span class="unselectable clickable hoverable">CL-12</span></div>
                            <div class="indent2"><span class="unselectable clickable hoverable">CL-13</span></div>
                            <div class="indent2"><span class="unselectable clickable hoverable">CL-14</span></div>
                            <div class="indent2"><span class="unselectable clickable hoverable">CL-15</span></div>
                            <div class="indent2"><span class="unselectable clickable hoverable">CL-16</span></div>
                            <div class="indent2"><span class="unselectable clickable hoverable">CL-17</span></div>
                            <div class="indent2"><span class="unselectable clickable hoverable">CL-18</span></div>
                            <div class="indent2"><span class="unselectable clickable hoverable">CL-19</span></div>
                            <div class="indent2"><span class="unselectable clickable hoverable">CL-20</span></div>
                        </div>
                    </div>
                </div>
                <div class="unselectable settings-input menu-element unselectable outline-top">
                    <p class="descr search-name" descr="Which characters are not recognized by `.`. 
                    Not needed For tasks">Dot exceptions:</p>
                    <div style="cursor: text; display: inline;">
                        <span style="color:var(--bracket-color); cursor: text;">[</span>
                        <input id="dot-exceptions-input" class="unselectable">
                        <span style="color:var(--bracket-color); cursor: text;">]</span>
                    </div>
                </div>
                <div class="unselectable settings-input menu-element unselectable outline-top">
                    <p class="search-name">Font size</p>
                    <input id="font-input" class="unselectable" type="number">
                </div>
                <div style="display: none;" class="unselectable settings-input menu-element unselectable outline-top">
                    <p class="search-name" descr="How much time after last typed before updating input or grammar">
                        Debounce (ms)</p>
                    <input id="debounce-input" class="unselectable" type="number">
                </div>
                <div class="unselectable settings-input menu-element">
                    <p class="search-name">Theme</p>
                    <span id="theme-button" class="clickable hoverable">light</span>
                </div>
                <div class="unselectable settings-input menu-element">
                    <p class="search-name descr" descr="AST is Abstract Syntax Tree,
                    a form of representation of parsed text">Show AST</p>
                    <label class="switch">
                        <input id="ast-toggle" type="checkbox">
                        <span class="slider round" style="margin-top: 3.5px; margin-bottom: -3.5px"></span>
                    </label>
                </div>
                <h2 style="border-top: var(--gray) solid 1px; padding-top: 0.5em" id="help">Help</h2>
                <p>This is currently a <a href="https://en.wikipedia.org/wiki/Parsing_expression_grammar">PEG</a> parser
                    playground (but soon it&#39;ll be more than that).</p>
                <h2 id="how-to-use">How to use</h2>
                <p style="border-bottom: var(--gray) solid 1px; padding-bottom: 0.5em">First editor is to define a
                    grammar, second is to check validity of an input. You can hover
                    on operators in the grammar editor to see their meaning.</p>
                <a href="https://github.com/llesha/CrateGram">github</a>
            </div>
        </div>
        <div class="right panel">
            <div>
                <span class="" id="current-task">Playground</span>
                <span id="error-test-text" class="error"></span>
                <span id="solved-text" class="complete descr" descr="" style="display: none; cursor: default;">Solved</span>
            </div>
            <div></div>
            <div class="main-grid">
                <div>
                    <div id="editor"></div>
                    <div class="status-line">
                        <span id="grammar-error" style="float: left" class="error"></span>
                        <span id="grammar-type" class="unselectable hoverable clickable"
                            style="float:right; display: none;">my grammar</span>
                        <!-- <label style="float:right" class="switch">
                        <input id="grammar-toggle" type="checkbox">
                        <span class="slider round"></span>
                    </label> -->
                    </div>
                    <div id="text-editor"></div>
                    <div style="width: 100%;">
                        <div class="inline-row">
                            <div class="status-grid">
                                <div class="unselectable grid-cell grid-left">
                                    <i class="hidden fa-solid fa-xmark to-left" style="position:absolute;"></i>
                                    <div style="text-align: center;">Valid</div>
                                </div>
                            </div>
                        </div>
                        <div class="inline-row" style="float:right">
                            <div class="status-grid">
                                <div class="unselectable grid-cell grid-right">
                                    <i class="hidden fa-solid fa-xmark to-left" style="position:absolute;"></i>
                                    <div style="text-align: center;">Invalid</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="ast">
                </div>
            </div>
        </div>
        <div style="width:5%">
            <svg id="spinner" style="position:absolute; float: right; display: none" xmlns="http://www.w3.org/2000/svg"
                height="1em"
                viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                <path fill="var(--light-gray)"
                    d="M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z" />
            </svg>
        </div>
    </div>
    <div id="descr"></div>
    <script type="module" src="js/loader.js"></script>
    <script type="module" src="js/index.js"></script>
    <script type="module" src="js/editor/editor.js"></script>
</body>

</html>